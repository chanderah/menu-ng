<!-- <p-dialog
  *ngIf="dialogConfig.data as data"
  [maximizable]="true"
  header="Order #{{ data.orderCode }}"
  [visible]="true"
  [style]="{ width: '40vw', height: 'auto' }"
  [breakpoints]="dialogBreakpoints"
  [dismissableMask]="true"
  [closeOnEscape]="true"
  modal="true"
  [blockScroll]="true"
  showEffect="fade">
</p-dialog> -->

<loading-container [isLoading]="isLoading">
  <div class="w-full p-fluid px-2">
    <div class="card p-1 mb-3">
      <div class="flex col-12">
        <div class="col-6">
          <p class="font-semibold ml-2 mt-2">{{ data.tableName }}</p>
        </div>
        <div class="col-6 text-right">
          <p class="text-sm font-semibold mr-2 mt-2">{{ data.totalPrice | custom }}</p>
        </div>
      </div>
      <div class="col-12" *ngFor="let product of data.products; index as i">
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon font-semibold">{{ i + 1 }} </span>
          <label pInputText class="font-semibold text-capitalize">{{ product.name }}</label>
        </div>

        <div class="col-12 pr-0 pb-0" *ngFor="let option of product.options; index as j">
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon font-semibold"> {{ toLetter(j) }} </span>
            <label pInputText class="text-capitalize"> {{ option.name + ': ' + getOptionValuesName(option.values) }} </label>
          </div>
        </div>
      </div>
    </div>

    <div class="flex justify-content-end gap-2 mt-4">
      <button pButton pRipple icon="pi pi-times" (click)="close()" label="Close" class="w-auto p-button-danger p-button-outlined"></button>

      <button
        *ngIf="isOrderPaid(data.status); else paymentBtn"
        pButton
        pRipple
        icon="pi pi-print"
        class="w-auto p-button-outlined"
        label="Receipt"
        (click)="onClickReceipt()"
        [disabled]="isLoading"></button>

      <ng-template #paymentBtn>
        <button
          pButton
          pRipple
          icon="pi pi-money-bill"
          class="w-auto p-button-outlined"
          label="Payment"
          (click)="onClickPayment()"
          [disabled]="isLoading"></button>
      </ng-template>
    </div>
  </div>
</loading-container>
